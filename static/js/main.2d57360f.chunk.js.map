{"version":3,"sources":["Navbar.js","CartItem.js","Cart.js","App.js","index.js"],"names":["styles","cartIcon","height","marginRight","nav","background","display","justifyContent","alignItems","cartIconContainer","position","cartCount","borderRadius","padding","right","top","Navbar","props","style","src","alt","count","image","width","CartItem","product","title","price","qty","onIncreaseQuantity","onDecreaseQuantity","onDeleteQuantity","className","img","fontSize","color","onClick","id","Cart","products","map","key","App","handleIncreaseQuantity","console","log","state","index","indexOf","db","collection","doc","update","then","catch","error","handleDecreaseQuantity","handelDeleteQuantity","delete","getCartCount","forEach","getCartTotal","total","item","addProduct","items","Infinity","Math","floor","random","length","add","docRef","loading","firebase","firestore","this","orderBy","onSnapshot","snapshot","docs","data","setState","React","Component","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0OAaMA,EAAS,CACXC,SAAU,CACRC,OAAQ,GACRC,YAAa,IAEfC,IAAK,CACHF,OAAQ,GACRG,WAAY,UACZC,QAAS,OACTC,eAAgB,WAChBC,WAAY,UAEdC,kBAAmB,CACjBC,SAAU,YAEZC,UAAW,CACTN,WAAY,SACZO,aAAc,MACdC,QAAS,UACTH,SAAU,WACVI,MAAO,EACPC,KAAM,IAKGC,EArCA,SAACC,GACd,OACE,yBAAKC,MAAOlB,EAAOI,KACf,yBAAKc,MAAOlB,EAAOS,mBACf,yBAAKS,MAAOlB,EAAOC,SAAUkB,IAAI,0DAA0DC,IAAI,cAC/F,0BAAMF,MAAOlB,EAAOW,WAApB,IAAkCM,EAAMI,MAAxC,QCqCNrB,EAAS,CACbsB,MAAO,CACLpB,OAAQ,IACRqB,MAAO,IACPX,aAAc,EACdP,WAAY,SAIDmB,EAnDE,SAACP,GAAW,IAAD,EAEIA,EAAMQ,QAA5BC,EAFkB,EAElBA,MAAOC,EAFW,EAEXA,MAAOC,EAFI,EAEJA,IACfH,EAAqER,EAArEQ,QAASI,EAA4DZ,EAA5DY,mBAAoBC,EAAwCb,EAAxCa,mBAAoBC,EAAoBd,EAApBc,iBAExD,OACE,yBAAKC,UAAU,aACb,yBAAKA,UAAU,cACb,yBAAKb,IAAKM,EAAQQ,IAAKf,MAAOlB,EAAOsB,SAEvC,yBAAKU,UAAU,eACb,yBAAKd,MAAQ,CAAEgB,SAAU,KAAQR,EAAjC,KACA,yBAAKR,MAAQ,CAAEiB,MAAO,SAAtB,MAAqCR,EAArC,KACA,yBAAKT,MAAQ,CAAEiB,MAAO,SAAtB,QAAuCP,EAAvC,KACA,yBAAKI,UAAU,qBAEb,yBACEZ,IAAI,WACJY,UAAU,eACVb,IAAI,wDACJiB,QAAS,kBAAMP,EAAmBJ,MAEpC,yBACEL,IAAI,WACJY,UAAU,eACVb,IAAI,wDACJiB,QAAS,kBAAMN,EAAmBL,MAEpC,yBACEL,IAAI,SACJY,UAAU,eACVb,IAAI,wDACJiB,QAAU,kBAAML,EAAiBN,EAAQY,WCTtCC,EAtBF,SAACrB,GAAW,IAEfsB,EAAatB,EAAbsB,SACR,OACE,yBAAKP,UAAU,QACZO,EAASC,KAAI,SAACf,GACb,OACE,kBAAC,EAAD,CACEA,QAASA,EACTgB,IAAKhB,EAAQY,GACbR,mBAAoBZ,EAAMY,mBAC1BC,mBAAoBb,EAAMa,mBAC1BC,iBAAkBd,EAAMc,wB,QCkOrBW,E,kDA3Ob,aAAe,IAAD,8BACZ,gBAuEFC,uBAAyB,SAAClB,GACxBmB,QAAQC,IAAI,2CAA4CpB,GADpB,IAE7Bc,EAAY,EAAKO,MAAjBP,SACDQ,EAAQR,EAASS,QAAQvB,GAUhB,EAAKwB,GAAGC,WAAW,YAAYC,IAAIZ,EAASQ,GAAOV,IAG/De,OAAO,CACNxB,IAAKW,EAASQ,GAAOnB,IAAM,IAE5ByB,MAAK,WACJT,QAAQC,IAAI,oCAEbS,OAAM,SAACC,GACNX,QAAQC,IAAI,WAAYU,OA/FhB,EAmGdC,uBAAyB,SAAC/B,GACxBmB,QAAQC,IAAI,gDAAiDpB,GADzB,IAE7Bc,EAAY,EAAKO,MAAjBP,SACDQ,EAAQR,EAASS,QAAQvB,GAGH,IAAzBc,EAASQ,GAAOnB,KAUJ,EAAKqB,GAAGC,WAAW,YAAYC,IAAIZ,EAASQ,GAAOV,IAE/De,OAAO,CACNxB,IAAKW,EAASQ,GAAOnB,IAAM,IAE5ByB,MAAK,WACJT,QAAQC,IAAI,oCAEbS,OAAM,SAACC,GACNX,QAAQC,IAAI,WAAYU,OA5HhB,EA+HdE,qBAAuB,SAACpB,GACH,EAAKS,MAAjBP,SAMQ,EAAKU,GAAGC,WAAW,YAAYC,IAAId,GAE/CqB,SACAL,MAAK,WACJT,QAAQC,IAAI,oCAEbS,OAAM,SAACC,GACNX,QAAQC,IAAI,WAAYU,OA7IhB,EAiJdI,aAAe,WAAO,IACZpB,EAAa,EAAKO,MAAlBP,SAEJlB,EAAQ,EAIZ,OAFAkB,EAASqB,SAAQ,SAACnC,GAAD,OAAaJ,GAASI,EAAQG,OAExCP,GAxJK,EA0JdwC,aAAe,WAAO,IACZtB,EAAa,EAAKO,MAAlBP,SAEJuB,EAAQ,EAIZ,OAHAvB,EAASqB,SAAQ,SAACG,GAChBD,GAAgBC,EAAKnC,IAAMmC,EAAKpC,SAE3BmC,GAjKK,EAoKdE,WAAa,WACX,IAAIC,EAAQ,CACV,CACEhC,IAAK,oLACLN,MAAO,IACPC,IAAM,EACNF,MAAO,mBAET,CACEO,IAAK,wKACLN,MAAO,IACPC,IAAK,EACLF,MAAO,OAET,CACEO,IAAK,gKACLN,MAAO,IACPC,IAAK,EACLF,MAAO,QAET,CACEO,IAAK,0KACLN,MAAO,IACPC,IAAK,EACLF,MAAO,UAET,CACEO,IAAK,2GACLN,MAAOuC,IACPtC,IAAK,GACLF,MAAO,oBAGPqC,EAAOE,EAAME,KAAKC,MAAMD,KAAKE,SAASJ,EAAMK,SAChD,EAAKrB,GACFC,WAAW,YAOXqB,IAAKR,GACLV,MAAK,SAACmB,GACL5B,QAAQC,IAAI,yBAAyB2B,MACpClB,OAAM,SAACC,GACRX,QAAQC,IAAI,WAAYU,OAhN5B,EAAKT,MAAQ,CACXP,SAAU,GACVkC,QAAS,QAEX,EAAKxB,GAAKyB,IAASC,YANP,E,gEAYQ,IAAD,OA6BnBC,KAAK3B,GACFC,WAAW,YAGX2B,QAAQ,QAAS,OACjBC,YAAW,SAACC,GACXnC,QAAQC,IAAIkC,GAEZA,EAASC,KAAKxC,KAAI,SAACW,GAEjB,OADAP,QAAQC,IAAIM,EAAI8B,QACT,MAGT,IAAM1C,EAAWwC,EAASC,KAAKxC,KAAI,SAACW,GAClC,IAAM8B,EAAO9B,EAAI8B,OAGjB,OADAA,EAAI,GAAS9B,EAAId,GACV4C,KAST,OANA,EAAKC,SAAS,CACZ3C,SAAUA,EAEVkC,SAAS,IAGJ,Q,+BAoJF,IAAD,EACsBG,KAAK9B,MAA3BP,EADA,EACAA,SAAUkC,EADV,EACUA,QAClB,OACE,yBAAKzC,UAAU,OACb,kBAAC,EAAD,CAAQX,MAAOuD,KAAKjB,iBACpB,yBAAKzC,MAAO,CAACL,QAAQ,GAAIqB,SAAS,KAAlC,UAA+C0C,KAAKf,gBACpD,4BAAQzB,QAASwC,KAAKZ,WAAY9C,MAAO,CAAEL,QAAQ,GAAIqB,SAAS,KAAhE,iBACA,kBAAC,EAAD,CACEK,SAAYA,EACZV,mBAAoB+C,KAAKjC,uBACzBb,mBAAoB8C,KAAKpB,uBACzBzB,iBAAkB6C,KAAKnB,uBAGxBgB,GAAW,wD,GAtOFU,IAAMC,W,MCaxBV,IAASW,cAVc,CACrBC,OAAQ,0CACRC,WAAY,6BACZC,YAAa,oCACbC,UAAW,aACXC,cAAe,yBACfC,kBAAmB,eACnBC,MAAO,8CAKTC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.2d57360f.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Navbar = (props) => {\r\n  return (\r\n    <div style={styles.nav}>\r\n        <div style={styles.cartIconContainer}>\r\n            <img style={styles.cartIcon} src=\"https://cdn-icons-png.flaticon.com/512/3144/3144456.png\" alt=\"cart-icon\"></img>\r\n            <span style={styles.cartCount} > {props.count} </span>\r\n        </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst styles = {\r\n    cartIcon: {\r\n      height: 32,\r\n      marginRight: 20\r\n    },\r\n    nav: {\r\n      height: 70,\r\n      background: '#4267b2',\r\n      display: 'flex',\r\n      justifyContent: 'flex-end',\r\n      alignItems: 'center'\r\n    },\r\n    cartIconContainer: {\r\n      position: 'relative'\r\n    },\r\n    cartCount: {\r\n      background: 'yellow',\r\n      borderRadius: '50%',\r\n      padding: '4px 8px',\r\n      position: 'absolute',\r\n      right: 0,\r\n      top: -9\r\n    }\r\n  };\r\n  \r\n\r\nexport default Navbar;","import React from 'react';\r\n\r\nconst CartItem = (props) => {\r\n \r\n  const { title, price, qty } = props.product;       //Object destructuring \\\r\n  const {product, onIncreaseQuantity, onDecreaseQuantity, onDeleteQuantity} = props;\r\n\r\n  return (\r\n    <div className=\"cart-item\">\r\n      <div className=\"left-block\">\r\n        <img src={product.img} style={styles.image} />\r\n      </div>\r\n      <div className=\"right-block\">\r\n        <div style={ { fontSize: 25 } }>{title} </div>\r\n        <div style={ { color: '#777' } }>Rs {price} </div>\r\n        <div style={ { color: '#777' } }>Qty: {qty} </div>\r\n        <div className=\"cart-item-actions\">\r\n          {/* Buttons */}\r\n          <img\r\n            alt=\"increase\"\r\n            className=\"action-icons\"\r\n            src=\"https://cdn-icons-png.flaticon.com/512/992/992651.png\"\r\n            onClick={() => onIncreaseQuantity(product) }\r\n          />\r\n          <img\r\n            alt=\"decrease\"\r\n            className=\"action-icons\"\r\n            src=\"https://cdn-icons-png.flaticon.com/512/992/992683.png\"\r\n            onClick={() => onDecreaseQuantity(product)}\r\n          />\r\n          <img\r\n            alt=\"delete\"\r\n            className=\"action-icons\"\r\n            src=\"https://cdn-icons-png.flaticon.com/512/484/484662.png\"\r\n            onClick= {() => onDeleteQuantity(product.id)}\r\n          />\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nconst styles = {\r\n  image: {\r\n    height: 110,\r\n    width: 110,\r\n    borderRadius: 4,\r\n    background: '#ccc'\r\n  }\r\n}\r\n\r\nexport default CartItem;","import React from 'react';\r\nimport CartItem from './CartItem'\r\n\r\nconst Cart = (props) => {\r\n  \r\n  const { products } = props;\r\n  return (\r\n    <div className=\"cart\">\r\n      {products.map((product) => {\r\n        return (\r\n          <CartItem\r\n            product={product}\r\n            key={product.id}\r\n            onIncreaseQuantity={props.onIncreaseQuantity}\r\n            onDecreaseQuantity={props.onDecreaseQuantity}\r\n            onDeleteQuantity={props.onDeleteQuantity}\r\n          />\r\n        ) \r\n      })}\r\n    </div>\r\n  );\r\n\r\n}\r\n\r\n\r\nexport default Cart; ","import React from 'react';\nimport Navbar from './Navbar'\nimport Cart from './Cart'\nimport firebase from 'firebase'\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      products: [],\n      loading: \"true\"\n    };\n    this.db = firebase.firestore();\n    \n    //Can bind multiple event handlers can be bind over here \n    // this.increaseQuantity = this.increaseQuantity.bind(this);\n    // this.testing();\n  }\n  componentDidMount () {\n    // firebase\n    //   .firestore()\n    //   .collection('products')\n    //   .get()\n    //   .then((snapshot) => {\n    //     console.log(snapshot);\n        \n    //     snapshot.docs.map((doc) => {\n    //       console.log(doc.data());\n    //       return \"\";\n    //     })\n\n    //     const products = snapshot.docs.map((doc) => {\n    //       const data = doc.data();\n\n    //       data['id'] = doc.id;\n    //       return data;\n    //     });\n  \n    //     this.setState({\n    //       // products: products\n    //       products,\n    //       loading: false\n    //     });\n        \n    //     return \"\";\n    //   })\n\n    this.db\n      .collection('products')\n      // .where('price', \"==\", 999)\n      // .where('title', \"==\", \"Watch\")\n      .orderBy('price', \"asc\")\n      .onSnapshot((snapshot) => {\n        console.log(snapshot);\n        \n        snapshot.docs.map((doc) => {\n          console.log(doc.data());\n          return \"\";\n        })\n\n        const products = snapshot.docs.map((doc) => {\n          const data = doc.data();\n\n          data['id'] = doc.id;\n          return data;\n        });\n  \n        this.setState({\n          products: products,\n          // products,\n          loading: false\n        });\n        \n        return \"\";\n      });\n\n      \n  }\n  handleIncreaseQuantity = (product) => {\n    console.log('Hey plz increase the qty of this product', product);\n    const {products} = this.state;\n    const index = products.indexOf(product);\n\n    // products[index].qty += 1;\n\n    // this.setState({\n    //   // products: products\n    //   products\n    // })\n    \n    //updating products in the firebase \n    const docRef = this.db.collection('products').doc(products[index].id);\n\n    docRef\n      .update({\n        qty: products[index].qty + 1\n      })\n      .then(() => {\n        console.log(\"Document updated successfully\");\n      })\n      .catch((error) => {\n        console.log(\"Error : \", error)\n      })\n\n  }\n  handleDecreaseQuantity = (product) => {\n    console.log('Hey plz decrease the quantity of this product', product);\n    const {products} = this.state;\n    const index = products.indexOf(product);\n    \n    // (products[index].qty > 0)? products[index].qty -= 1 : products[index].qty = 0 ;\n    if(products[index].qty  === 0) {\n      return ;\n    }\n    // products[index].qty -= 1;\n\n    // this.setState(\n    //   products\n    // );\n\n    //updating product quantity in the firebase \n    const docRef = this.db.collection(\"products\").doc(products[index].id);\n    docRef\n      .update({\n        qty: products[index].qty - 1\n      })\n      .then(() => {\n        console.log(\"Document updated successfully\");\n      })\n      .catch((error)=> {\n        console.log(\"Error : \", error);\n      })\n  }\n  handelDeleteQuantity = (id) => {\n    const {products} = this.state;\n    // const items = products.filter((item) => item.id !== id  );  // filter out the element with that id and return the filtered array \n    // this.setState({\n    //   products: items\n    // });\n\n    const docRef = this.db.collection(\"products\").doc(id);\n    docRef\n      .delete()\n      .then(() => {\n        console.log(\"Document Deleted successfully\");\n      })\n      .catch((error)=> {\n        console.log(\"Error : \", error);\n      })\n  }\n\n  getCartCount = () => {\n    const { products } = this.state;\n    \n    let count = 0;\n\n    products.forEach((product) => count += product.qty);\n\n    return count;\n  }\n  getCartTotal = () => {\n    const { products } = this.state;\n\n    let total = 0;\n    products.forEach((item) => {\n      total = total + item.qty * item.price;\n    });\n    return total;\n  }\n\n  addProduct = () => {\n    let items = [\n      {\n        img: \"https://images.unsplash.com/photo-1626806819282-2c1dc01a5e0c?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8d2FzaGluZyUyMG1hY2hpbmV8ZW58MHx8MHx8&auto=format&fit=crop&w=800&q=60\",\n        price: 100,\n        qty:  3,\n        title: \"Washing Machine\"\n      },\n      {\n        img: \"https://images.unsplash.com/photo-1584191349568-e8162f3d55bc?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8NHx8Ym13JTIweDZ8ZW58MHx8MHx8&auto=format&fit=crop&w=800&q=60\",\n        price: 60000000,\n        qty: 1,\n        title: \"Car\"\n      },\n      {\n        img: \"https://images.unsplash.com/photo-1623114112815-74a4b9fe505d?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=987&q=80\",\n        price: 10000,\n        qty: 1,\n        title: \"Oven\"\n      },\n      {\n        img: \"https://images.unsplash.com/photo-1603302576837-37561b2e2302?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MTJ8fGxhcHRvcHxlbnwwfHwwfHw%3D&auto=format&fit=crop&w=800&q=60\",\n        price: 200000,\n        qty: 1,\n        title: \"Laptop\"\n      },\n      {\n        img: \"https://encrypted-tbn2.gstatic.com/images?q=tbn:ANd9GcS1rDH_nWadT1GXFPomdutqV1PUMA8uXIWS2Js5_fq4pJ1lwG16\",\n        price: Infinity,\n        qty: 1/2,\n        title: \"Mark Zuckerberg\"\n      }\n    ]\n    var item = items[Math.floor(Math.random()*items.length)];\n    this.db\n      .collection('products')\n      // .add({\n      //   img: \"https://images.unsplash.com/photo-1626806819282-2c1dc01a5e0c?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MXx8d2FzaGluZyUyMG1hY2hpbmV8ZW58MHx8MHx8&auto=format&fit=crop&w=800&q=60\",\n      //   price: 100,\n      //   qty:  3,\n      //   title: \"Washing Machine\"\n      // })\n      .add( item  )\n      .then((docRef)=> {\n        console.log(\"Product has been added\",docRef);\n      }).catch((error)=> {\n        console.log(\"Error : \", error);\n      })\n      \n  }\n\n  render () {\n    const { products, loading } = this.state;\n    return (\n      <div className=\"App\">\n        <Navbar count={this.getCartCount()} />\n        <div style={{padding:10, fontSize:30}}>TOTAL: {this.getCartTotal()}</div>\n        <button onClick={this.addProduct} style={{ padding:20, fontSize:20 }}>Add a Product</button>\n        <Cart\n          products = {products}\n          onIncreaseQuantity={this.handleIncreaseQuantity}\n          onDecreaseQuantity={this.handleDecreaseQuantity}\n          onDeleteQuantity={this.handelDeleteQuantity}\n        />\n        {/*  Conditional rendering  */}\n        {loading && <h1>Loading Products...</h1>}    \n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport  firebase from 'firebase';\nimport 'firebase/firestore';\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCgAuN02xCuOJx-W40vGl86xFSaefqx6hQ\",\n  authDomain: \"cart-702ea.firebaseapp.com\",\n  databaseURL: \"https://cart-702ea.firebaseio.com\",\n  projectId: \"cart-702ea\",\n  storageBucket: \"cart-702ea.appspot.com\",\n  messagingSenderId: \"679582416662\",\n  appId: \"1:679582416662:web:bf612e2c49dbd0e372da37\"\n};\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}